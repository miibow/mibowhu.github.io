I"i<h1 id="prd">PRD</h1>

<h3 id="pseudo-random-distribution">(Pseudo Random Distribution)</h3>

<h4 id="数学原理">数学原理</h4>

<p>期望（mean）即为均值</p>

<h4 id="设计背景">设计背景</h4>

<p>平衡游戏中的随机性影响的游戏体验</p>

<h4 id="设计原理">设计原理</h4>

<p>将概率为p的发生器，发生步数均匀约束在自然数N之内。</p>

<p>新的发生器的概率公式为</p>

<p>p(N) = N * C</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. 先保证均匀性
2. 再保证有限次数
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>p(0&lt;p&lt;1)
c(0&lt;c&lt;p)
</code></pre></div></div>

<p>概率分布</p>

<p><img src="C:\Users\lxx\Pictures\typora\prdPDF.png" alt="prdPDF" /></p>

<h4 id="计算c">计算C</h4>

<p>因为0 &lt; C &lt; P1，故可以用二分法逼近</p>

<p>对于C而言，计算期望的公式为</p>

<p>\(M(N) = \sum_{n=1}^{N}{(1-(n-1)*C)*(n*C)}\)
平均概率
\(P(N) = 1 / M(N)\)
平均概率应该等于P1</p>

<p>由于在
\(Step = ceil(1 / C)\)
之后，
\(Step * C &gt;= 1\)
故在计算C的期望过程中，平均概率不断逼近原概率，此处要设定<font color="red">**阈值**</font>，避免由于精度问题使得两者无法相等</p>
:ET